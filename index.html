<!doctype html>
<html lang="en" class="lenis">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fixit ðŸ”¨ BW | Power Tools Botswana</title>

  <!-- Tailwind utilities (keeps original Tailwind look) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://api.fontshare.com/v2/css?f[]=clash-display@200,300,400,500,600,700&f[]=general-sans@200,300,400,500,600&display=swap" rel="stylesheet">

  <!-- External libs: THREE on home only + GSAP + Lenis + Iconify -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

  <style>
    /* Core visual styles (kept from your original but slightly consolidated for clarity) */
    :root { --accent: #f97316; --bg:#030303; --muted:#a9a9a9; }
    html,body{height:100%;margin:0;}
    body {
      background-color: var(--bg);
      color: #fff;
      overflow-x: hidden;
      cursor: none;
      font-family: "General Sans", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    ::selection { background: var(--accent); color: #000; }
    .noise { position: fixed; inset: 0; pointer-events: none; z-index:50; opacity:0.05;
      background:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); }
    #webgl { position: fixed; top:0; left:0; width:100%; height:100vh; z-index:-1; opacity:0; }

    /* Cursor */
    .cursor-dot{width:6px;height:6px;background:var(--accent);position:fixed;top:0;left:0;border-radius:50%;z-index:9999;pointer-events:none;transform:translate(-50%,-50%);}
    .cursor-circle{width:40px;height:40px;border:1px solid rgba(255,255,255,0.18);position:fixed;top:0;left:0;border-radius:50%;z-index:9998;pointer-events:none;transform:translate(-50%,-50%);transition:all .25s;}
    .cursor-circle.active{width:60px;height:60px;background-color:rgba(249,115,22,0.08);border-color:var(--accent);backdrop-filter: blur(2px);}

    /* Spotlight */
    .spotlight{position:relative;overflow:hidden;background:#050505;border-radius:6px;}
    .spotlight::before{content:'';position:absolute;inset:0;background:radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(249,115,22,0.06), transparent 40%);z-index:1;pointer-events:none;}
    .spotlight-border::after{content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;background:radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(249,115,22,0.45), transparent 40%);-webkit-mask:linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0;transition:opacity .5s;}
    .spotlight:hover .spotlight-border::after{opacity:1;}

    /* Reveal text helpers */
    .reveal-text{clip-path:polygon(0 0,100% 0,100% 100%,0 100%);}
    .char{display:inline-block;transform:translateY(110%);will-change:transform;}

    /* Loader */
    .loader-wrap{position:fixed;z-index:10000;inset:0;background:#000;display:flex;align-items:center;justify-content:center;}
    .loader-bar{width:1px;height:0%;background:var(--accent);}
    .loader-text{position:absolute;bottom:40px;right:40px;font-family:'Clash Display',sans-serif;font-size:12px;letter-spacing:0.1em;color:#bbb;}

    /* layout helpers */
    .max-w-center{max-width:1600px;margin:0 auto;padding:0 16px;}
    nav { position: fixed; top:0; left:0; width:100%; z-index:100; padding:18px 24px; display:flex; justify-content:center; background: linear-gradient(180deg, rgba(0,0,0,0.35), transparent); }
    .nav-inner{width:100%;max-width:1600px;display:flex;align-items:center;justify-content:space-between;}
    .nav-links{display:flex;gap:14px;align-items:center;}
    .nav-links a{color:#cfcfcf;text-decoration:none;font-weight:700;font-size:12px;letter-spacing:0.09em;padding:8px 12px;border-radius:4px;}
    .nav-links a:hover{color:#fff;}
    .logo { display:flex; align-items:center; gap:10px; font-weight:700; font-size:18px; color:#fff; }
    .logo .hammer { display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; }
    .logo .brand { font-size:18px; font-weight:800; letter-spacing:0.04em; }

    /* responsive */
    @media (max-width: 768px){
      .nav-links{display:none;}
      .cursor-dot, .cursor-circle{display:none;}
    }

    /* hero */
    header{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:0 20px;position:relative;}
    h1.big{font-family:'Clash Display',sans-serif;font-size:clamp(36px,10vw,120px);line-height:0.9;text-align:center;margin:0;letter-spacing:-0.02em;}
    p.lead{color:#c7c7c7;font-size:18px;max-width:900px;margin:18px auto 0;text-align:center;}
    .cta{margin-top:26px;display:inline-flex;align-items:center;gap:12px;padding:14px 22px;border:1px solid rgba(255,255,255,0.06);border-radius:8px;background:transparent;color:#fff;text-decoration:none;font-weight:700;}
    .cta:hover{border-color:var(--accent);}

    footer { background:#020202;border-top:1px solid rgba(255,255,255,0.03); padding:40px 20px; color:#bfbfbf; }
    footer .footer-inner{max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:20px;}
    .socials a{color:#bbb;text-decoration:none;margin-right:18px;}
    .visit-btn{display:inline-block;padding:12px 20px;border-radius:8px;background:#fff;color:#000;font-weight:700;text-decoration:none;}
  </style>
</head>
<body>

  <div class="noise"></div>
  <div class="cursor-dot hidden md:block"></div>
  <div class="cursor-circle hidden md:block"></div>
  <canvas id="webgl"></canvas>

  <!-- Loader -->
  <div class="loader-wrap">
    <div class="loader-bar"></div>
    <div class="loader-text"><span class="counter">000</span>% // PREPARING TOOLS</div>
  </div>

  <!-- Nav -->
  <nav aria-label="Main navigation">
    <div class="nav-inner">
      <a class="logo" href="index.html" aria-label="Home">
        <span class="brand">Fixit</span>
        <span class="hammer" aria-hidden="true">
          <iconify-icon icon="lucide:hammer" width="26" height="26" style="color:var(--accent)"></iconify-icon>
        </span>
        <span class="brand" style="font-weight:900">BW</span>
      </a>
      <div class="nav-links" role="navigation" aria-label="Site links">
        <a href="about.html">About</a>
        <a href="sales.html">Sales & Rentals</a>
        <a href="promise.html">Our Promise</a>
      </div>
      <a class="cta" id="get-tools-cta" href="https://wa.me/26773318758" target="_blank" rel="noopener noreferrer">
        Contact Us Today
        <iconify-icon icon="lucide:arrow-right" width="16" style="transform:translateY(1px);"></iconify-icon>
      </a>
    </div>
  </nav>

  <!-- Hero (same content/feel) -->
  <header class="max-w-center">
    <div style="text-align:center;z-index:10;">
      <div style="opacity:0.95;"><p class="lead" style="text-transform:uppercase;letter-spacing:0.25em;color:#ffb88b;font-weight:700;font-size:12px;">Botswana's Trusted Source</p></div>
      <h1 class="big reveal-text" style="margin-top:14px;">
        <span class="char">Build.</span>
        <br>
        <span class="char">Repair.</span>
        <br>
        <span class="char">Create. <em style="font-weight:400">Fixit.</em></span>
      </h1>
      <p class="lead">Whether you're building, repairing, or creating, we provide the tools that help you get the job done right. Rent or buy with ease, supported by dependable quality.</p>

      <div>
        <a class="cta" href="sales.html" style="margin-top:20px;display:inline-block;">View Tools</a>
      </div>
    </div>
  </header>

  <!-- Marquee -->
  <section class="py-10 border-y border-white/5 bg-black/20" aria-hidden="true">
    <div class="max-w-center" style="overflow:hidden;">
      <div class="marquee-content" style="display:flex;gap:4rem;align-items:center;">
        <div style="font-weight:800;color:#bdbdbd;">DRILLS <iconify-icon icon="lucide:drill" width="18"></iconify-icon></div>
        <div style="font-weight:800;color:#aaa;">GRINDERS <iconify-icon icon="lucide:disc" width="18"></iconify-icon></div>
        <div style="font-weight:800;color:#bdbdbd;">SAWS <iconify-icon icon="lucide:scissors" width="18"></iconify-icon></div>
        <div style="font-weight:800;color:#aaa;">GENERATORS <iconify-icon icon="lucide:zap" width="18"></iconify-icon></div>
        <div style="font-weight:800;color:#bdbdbd;">CUTTERS <iconify-icon icon="lucide:scissors" width="18"></iconify-icon></div>
      </div>
    </div>
  </section>

  <!-- Services (kept visually like original) -->
  <section id="services" class="relative pt-24 pb-24">
    <div class="max-w-center">
      <div style="display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:40px;border-bottom:1px solid rgba(255,255,255,0.06);padding-bottom:24px;">
        <h2 style="font-size:48px;font-weight:800;margin:0;">WHAT WE OFFER</h2>
        <div style="color:var(--muted);font-size:12px;text-transform:uppercase;">Accessible Tools.<br>Professional Results.</div>
      </div>

      <!-- Rentals Card -->
      <div style="margin-bottom:36px;border-radius:8px;overflow:hidden;background:#0A0A0A;border:1px solid rgba(255,255,255,0.04);display:grid;grid-template-columns:1fr 1fr;">
        <div style="padding:32px;">
          <div style="color:var(--accent);font-weight:700;font-size:12px;text-transform:uppercase;margin-bottom:12px;">Flexible Options</div>
          <h3 style="font-size:34px;margin:0 0 12px 0;">TOOL RENTALS</h3>
          <p style="color:#bfbfbf;max-width:520px;">Need a tool for a specific job? We offer short-term and long-term rentals on well-maintained equipment. From heavy-duty generators to precision saws, get what you need without the upfront cost.</p>
          <div style="display:flex;gap:24px;margin-top:20px;">
            <div><strong style="display:block;font-size:22px;">Short-Term</strong><small style="color:var(--muted);text-transform:uppercase;font-size:11px;">Day/Week</small></div>
            <div><strong style="display:block;font-size:22px;">Long-Term</strong><small style="color:var(--muted);text-transform:uppercase;font-size:11px;">Project Based</small></div>
          </div>
        </div>
        <div style="min-height:260px;background:url('https://images.unsplash.com/photo-1581092921461-eab62e97a783?q=80&w=2070&auto=format&fit=crop') center/cover no-repeat;opacity:0.85;"></div>
      </div>

      <!-- Sales Card -->
      <div style="margin-bottom:36px;border-radius:8px;overflow:hidden;background:#080808;border:1px solid rgba(255,255,255,0.04);display:grid;grid-template-columns:1fr 1fr;">
        <div style="padding:32px;">
          <div style="color:#fff;font-weight:700;font-size:12px;text-transform:uppercase;margin-bottom:12px;">Ownership</div>
          <h3 style="font-size:34px;margin:0 0 12px 0;">POWER TOOL SALES</h3>
          <p style="color:#bfbfbf;max-width:520px;">Build your own arsenal. We sell high-quality drills, grinders, saws, cutters, and more. Quality equipment accessible to everyone â€” from large construction teams to DIY homeowners.</p>
          <div style="display:flex;gap:24px;margin-top:20px;">
            <div><strong style="display:block;font-size:22px;">Wide Range</strong><small style="color:var(--muted);text-transform:uppercase;font-size:11px;">All Categories</small></div>
            <div><strong style="display:block;font-size:22px;">Trusted</strong><small style="color:var(--muted);text-transform:uppercase;font-size:11px;">Quality Brands</small></div>
          </div>
        </div>
        <div style="min-height:260px;background:url('https://images.unsplash.com/photo-1531685250784-7569949d0840?q=80&w=2940&auto=format&fit=crop') center/cover no-repeat;opacity:0.85;"></div>
      </div>
    </div>
  </section>

  <!-- About / Promise Grid (keeps previews, full pages contain expanded content) -->
  <section style="padding:48px 0;background:#0b0b0b;">
    <div class="max-w-center" style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;">
      <div class="spotlight spotlight-border" style="padding:28px;">
        <div style="width:48px;height:48px;border-radius:8px;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;margin-bottom:14px;"><iconify-icon icon="lucide:wrench" width="20"></iconify-icon></div>
        <h3 style="margin:0 0 8px 0;">Well-Maintained Equipment</h3>
        <p style="color:#bdbdbd;">Our rental tools are serviced and ready for any project. We ensure reliability so you can focus on the job.</p>
      </div>
      <div class="spotlight spotlight-border" style="padding:28px;">
        <div style="width:48px;height:48px;border-radius:8px;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;margin-bottom:14px;"><iconify-icon icon="lucide:heart-handshake" width="20"></iconify-icon></div>
        <h3 style="margin:0 0 8px 0;">Our Promise</h3>
        <p style="color:#bdbdbd;">We aim to provide reliable tools, fair prices, and excellent service to support your work, no matter the size of the job.</p>
      </div>
      <div class="spotlight spotlight-border" style="padding:28px;">
        <div style="width:48px;height:48px;border-radius:8px;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;margin-bottom:14px;"><iconify-icon icon="lucide:users" width="20"></iconify-icon></div>
        <h3 style="margin:0 0 8px 0;">For Everyone</h3>
        <p style="color:#bdbdbd;">From large construction teams to DIY homeowners, we make quality equipment accessible to everyone in Botswana.</p>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section style="padding:60px 20px;text-align:center;">
    <h2 style="color:#c7c7c7;font-size:28px;">"TOOLS YOU CAN <span style="color:#fff">TRUST."</span></h2>
    <div style="margin-top:22px;">
      <a class="cta" href="https://wa.me/26773318758" target="_blank" rel="noopener noreferrer">Contact Us Today</a>
    </div>
  </section>

  <!-- Footer (contact stays in footer) -->
  <footer id="contact">
    <div class="footer-inner">
      <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
        <div style="display:flex;align-items:center;gap:12px;">
          <span style="font-weight:800;font-size:18px;color:#fff;">Fixit</span>
          <span style="width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;">
            <iconify-icon icon="lucide:hammer" width="26" height="26" style="color:var(--accent)"></iconify-icon>
          </span>
          <span style="font-weight:900;font-size:18px;color:#fff;">BW</span>
        </div>

        <div class="socials" style="display:flex;align-items:center;gap:16px;">
          <a href="https://wa.me/26773318758" target="_blank" rel="noopener noreferrer">+267 73318758 (WhatsApp)</a>
          <a href="https://www.tiktok.com/@prodmoroka" target="_blank" rel="noopener noreferrer">TikTok</a>
          <a href="https://www.facebook.com/profile.php?id=61556143019845" target="_blank" rel="noopener noreferrer">Facebook</a>
          <a class="visit-btn" href="https://www.tiktok.com/@prodmoroka" target="_blank" rel="noopener noreferrer">Visit Fixit</a>
        </div>
      </div>

      <div style="text-align:center;color:#777;margin-top:12px;">Â© 2024 Fixit ðŸ”¨ BW. All Rights Reserved.</div>
    </div>
  </footer>

  <!-- ---------------- SCRIPTS: Lenis, Three.js (lighter), GSAP, Cursor, Spotlight, Scroll Animations ---------------- -->
  <script>
    // LENIS (global)
    const lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      direction: 'vertical',
      gestureDirection: 'vertical',
      smooth: true,
      mouseMultiplier: 1,
      smoothTouch: false,
      touchMultiplier: 2,
    });
    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
    requestAnimationFrame(raf);

    // --- THREE.JS particles (optimized for low-end devices) ---
    (function(){
      try{
        // If WebGL not supported, skip entirely
        if ( !window.WebGLRenderingContext ) return;
        // Lower particle count to 800 for better performance
        const particlesCount = 800;
        const canvas = document.querySelector('#webgl');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: false });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5)); // clamp DPR to 1.5 to save GPU
        // Geometry
        const particlesGeometry = new THREE.BufferGeometry();
        const posArray = new Float32Array(particlesCount * 3);
        for(let i=0;i<particlesCount*3;i++){
          posArray[i] = (Math.random() - 0.5) * 8; // smaller spread
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        // Material: simple points material with low size & opacity
        const material = new THREE.PointsMaterial({
          size: 0.01,
          color: 0xf97316,
          transparent: true,
          opacity: 0.8,
          depthWrite: false
        });
        const particles = new THREE.Points(particlesGeometry, material);
        scene.add(particles);
        camera.position.z = 2.5;
        // Basic animation
        let mouseX = 0, mouseY = 0, targetX = 0, targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;
        document.addEventListener('mousemove', (e) => {
          mouseX = (e.clientX - windowHalfX);
          mouseY = (e.clientY - windowHalfY);
        });
        const clock = new THREE.Clock();
        const tick = () => {
          targetX = mouseX * 0.0006; // even lower sensitivity
          targetY = mouseY * 0.0006;
          const elapsedTime = clock.getElapsedTime();
          particles.rotation.y = 0.02 * elapsedTime;
          particles.rotation.x += 0.02 * (targetY - particles.rotation.x);
          particles.rotation.y += 0.02 * (targetX - particles.rotation.y);
          // small per-vertex offset that's cheap
          const positions = particlesGeometry.attributes.position.array;
          for(let i=0;i<particlesCount;i++){
            const i3 = i * 3;
            positions[i3 + 1] += Math.sin(elapsedTime + positions[i3]) * 0.0008;
          }
          particlesGeometry.attributes.position.needsUpdate = true;
          renderer.render(scene, camera);
          requestAnimationFrame(tick);
        };
        tick();
        window.addEventListener('resize', ()=> {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });
      }catch(err){
        // Fail silently on low-end devices
        console.warn('Three.js background skipped (performance or error):', err);
      }
    })();

    // GSAP timeline & split text
    gsap.registerPlugin(ScrollTrigger);
    const revealElements = document.querySelectorAll('.reveal-text .char, .reveal-text');
    // split simple: wrap each .reveal-text content's children already prepared in markup - fallback handled
    document.querySelectorAll('.reveal-text').forEach(el=>{
      const content = el.innerHTML;
      el.innerHTML = '<span class="char">'+content+'</span>';
    });

    const tl = gsap.timeline();
    tl.to('.loader-bar', { height: '100%', duration: 1.2, ease: "power4.inOut" })
      .to('.counter', { textContent: 100, duration: 1.2, roundProps: "textContent", ease: "power4.inOut" }, "<")
      .to('.loader-wrap', { y: '-100%', duration: 0.8, ease: "power4.inOut", delay: 0.15 })
      .to('#webgl', { opacity: 1, duration: 0.8 }, "-=0.4")
      .to('.char', { y: 0, duration: 1.0, ease: "power4.out", stagger: 0.02 }, "-=0.6")
      .to('.hero-desc, .lead', { opacity: 1, duration: 0.6 }, "-=0.8");

    // Scroll reveal for cards
    document.querySelectorAll('.spotlight, .case-card').forEach((card)=>{
      gsap.from(card, {
        scrollTrigger: { trigger: card, start: "top 85%", end: "top 60%", toggleActions: "play none none reverse" },
        y: 24, opacity: 0, duration: 0.8, ease: "power2.out"
      });
    });

    // Cursor movement + interactions
    const cursorDot = document.querySelector('.cursor-dot');
    const cursorCircle = document.querySelector('.cursor-circle');
    document.addEventListener('mousemove', (e)=> {
      gsap.to(cursorDot, { x:e.clientX, y:e.clientY, duration:0.08 });
      gsap.to(cursorCircle, { x:e.clientX, y:e.clientY, duration:0.25 });
    });
    document.querySelectorAll('a, button, .spotlight, .cta').forEach(el=>{
      el.addEventListener('mouseenter', ()=> cursorCircle.classList.add('active'));
      el.addEventListener('mouseleave', ()=> cursorCircle.classList.remove('active'));
    });

    // Spotlight mouse update
    document.addEventListener('mousemove', e=>{
      document.querySelectorAll('.spotlight').forEach(card=>{
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        card.style.setProperty('--mouse-x', `${x}px`);
        card.style.setProperty('--mouse-y', `${y}px`);
      });
    });
  </script>
</body>
</html>
